{"version":3,"file":"utils-json.js","sourceRoot":"","sources":["../../src/utils/utils-json.ts"],"names":[],"mappings":"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","sourcesContent":["import { JsonColumn, JsonIndex, JsonTrigger, JsonView } from '../interfaces/interfaces';\nimport { queryAll } from './utils-sqlite';\n\nexport const isJsonSQLite = async (obj: any): Promise<boolean> => {\n  const keyFirstLevel: string[] = [\n    'database',\n    'version',\n    'overwrite',\n    'encrypted',\n    'mode',\n    'tables',\n    'views'\n  ];\n  if (\n    obj == null ||\n    (Object.keys(obj).length === 0 && obj.constructor === Object)\n  )\n    return false;\n  for (const key of Object.keys(obj)) {\n    if (keyFirstLevel.indexOf(key) === -1) return false;\n    if (key === 'database' && typeof obj[key] != 'string') return false;\n    if (key === 'version' && typeof obj[key] != 'number') return false;\n    if (key === 'overwrite' && typeof obj[key] != 'boolean') return false;\n    if (key === 'encrypted' && typeof obj[key] != 'boolean') return false;\n    if (key === 'mode' && typeof obj[key] != 'string') return false;\n    if (key === 'tables' && typeof obj[key] != 'object') return false;\n    if (key === 'tables') {\n      for (const oKey of obj[key]) {\n        const retTable: boolean = await isTable(oKey);\n        if (!retTable) return false;\n      }\n    }\n    if (key === 'views' && typeof obj[key] != 'object') return false;\n    if (key === 'views') {\n      for (const oKey of obj[key]) {\n        const retView: boolean = await isView(oKey);\n        if (!retView) return false;\n      }\n    }\n\n  }\n  return true;\n}\nexport const isTable = async (obj: any): Promise<boolean> => {\n  const keyTableLevel: string[] = [\n    'name',\n    'schema',\n    'indexes',\n    'triggers',\n    'values',\n  ];\n  let nbColumn = 0;\n  if (\n    obj == null ||\n    (Object.keys(obj).length === 0 && obj.constructor === Object)\n  )\n    return false;\n  for (const key of Object.keys(obj)) {\n    if (keyTableLevel.indexOf(key) === -1) return false;\n    if (key === 'name' && typeof obj[key] != 'string') return false;\n    if (key === 'schema' && typeof obj[key] != 'object') return false;\n    if (key === 'indexes' && typeof obj[key] != 'object') return false;\n    if (key === 'triggers' && typeof obj[key] != 'object') return false;\n    if (key === 'values' && typeof obj[key] != 'object') return false;\n    if (key === 'schema') {\n      obj['schema'].forEach(\n        (element: {\n          column?: string;\n          value: string;\n          foreignkey?: string;\n        }) => {\n          if (element.column) {\n            nbColumn++;\n          }\n        },\n      );\n      for (let i = 0; i < nbColumn; i++) {\n        const retSchema: boolean = await isSchema(obj[key][i]);\n        if (!retSchema) return false;\n      }\n    }\n    if (key === 'indexes') {\n      for (const oKey of obj[key]) {\n        const retIndexes: boolean = await isIndexes(oKey);\n        if (!retIndexes) return false;\n      }\n    }\n    if (key === 'triggers') {\n      for (const oKey of obj[key]) {\n        const retTriggers: boolean = await isTriggers(oKey);\n        if (!retTriggers) return false;\n      }\n    }\n    if (key === 'values') {\n      if (nbColumn > 0) {\n        for (const oKey of obj[key]) {\n          if (typeof oKey != 'object' || oKey.length != nbColumn)\n            return false;\n        }\n      }\n    }\n  }\n\n  return true;\n}\nexport const isSchema = async (obj: any): Promise<boolean> => {\n  const keySchemaLevel: string[] = [\n    'column',\n    'value',\n    'foreignkey',\n    'constraint',\n  ];\n  if (\n    obj == null ||\n    (Object.keys(obj).length === 0 && obj.constructor === Object)\n  )\n    return false;\n  for (const key of Object.keys(obj)) {\n    if (keySchemaLevel.indexOf(key) === -1) return false;\n    if (key === 'column' && typeof obj[key] != 'string') return false;\n    if (key === 'value' && typeof obj[key] != 'string') return false;\n    if (key === 'foreignkey' && typeof obj[key] != 'string') return false;\n    if (key === 'constraint' && typeof obj[key] != 'string') return false;\n  }\n  return true;\n}\nexport const isIndexes = async (obj: any): Promise<boolean> => {\n  const keyIndexesLevel: string[] = ['name', 'value', 'mode'];\n  if (\n    obj == null ||\n    (Object.keys(obj).length === 0 && obj.constructor === Object)\n  )\n    return false;\n  for (const key of Object.keys(obj)) {\n    if (keyIndexesLevel.indexOf(key) === -1) return false;\n    if (key === 'name' && typeof obj[key] != 'string') return false;\n    if (key === 'value' && typeof obj[key] != 'string') return false;\n    if (\n      key === 'mode' &&\n      (typeof obj[key] != 'string' || obj[key].toUpperCase() != 'UNIQUE')\n    )\n      return false;\n  }\n  return true;\n}\nexport const isTriggers = async (obj: any): Promise<boolean> => {\n  const keyTriggersLevel: string[] = [\n    'name',\n    'timeevent',\n    'condition',\n    'logic',\n  ];\n  if (\n    obj == null ||\n    (Object.keys(obj).length === 0 && obj.constructor === Object)\n  )\n    return false;\n  for (const key of Object.keys(obj)) {\n    if (keyTriggersLevel.indexOf(key) === -1) return false;\n    if (key === 'name' && typeof obj[key] != 'string') return false;\n    if (key === 'timeevent' && typeof obj[key] != 'string') return false;\n    if (key === 'condition' && typeof obj[key] != 'string') return false;\n    if (key === 'logic' && typeof obj[key] != 'string') return false;\n  }\n  return true;\n}\nexport const isView = async (obj: any): Promise<boolean> => {\n  const keyViewLevel: string[] = ['name', 'value'];\n  if (\n    obj == null ||\n    (Object.keys(obj).length === 0 && obj.constructor === Object)\n  )\n    return false;\n  for (const key of Object.keys(obj)) {\n    if (keyViewLevel.indexOf(key) === -1) return false;\n    if (key === 'name' && typeof obj[key] != 'string') return false;\n    if (key === 'value' && typeof obj[key] != 'string') return false;\n  }\n  return true;\n}\nexport const checkSchemaValidity = async (schema: JsonColumn[]): Promise<void> => {\n  for (let i = 0; i < schema.length; i++) {\n    const sch: JsonColumn = {} as JsonColumn;\n    const keys: string[] = Object.keys(schema[i]);\n    if (keys.includes('column')) {\n      sch.column = schema[i].column;\n    }\n    if (keys.includes('value')) {\n      sch.value = schema[i].value;\n    }\n    if (keys.includes('foreignkey')) {\n      sch.foreignkey = schema[i].foreignkey;\n    }\n    if (keys.includes('constraint')) {\n      sch.constraint = schema[i].constraint;\n    }\n    const isValid: boolean = await isSchema(sch);\n    if (!isValid) {\n      return Promise.reject(\n        new Error(`CheckSchemaValidity: schema[${i}] not valid`),\n      );\n    }\n  }\n  return Promise.resolve();\n}\n\nexport const checkIndexesValidity = async (indexes: JsonIndex[]): Promise<void> => {\n  for (let i = 0; i < indexes.length; i++) {\n    const index: JsonIndex = {} as JsonIndex;\n    const keys: string[] = Object.keys(indexes[i]);\n    if (keys.includes('value')) {\n      index.value = indexes[i].value;\n    }\n    if (keys.includes('name')) {\n      index.name = indexes[i].name;\n    }\n    if (keys.includes('mode')) {\n      index.mode = indexes[i].mode;\n    }\n\n    const isValid: boolean = await isIndexes(index);\n    if (!isValid) {\n      return Promise.reject(\n        new Error(`CheckIndexesValidity: indexes[${i}] not valid`),\n      );\n    }\n  }\n  return Promise.resolve();\n}\nexport const checkTriggersValidity = async (triggers: JsonTrigger[]): Promise<void> => {\n  for (let i = 0; i < triggers.length; i++) {\n    const trigger: JsonTrigger = {} as JsonTrigger;\n    const keys: string[] = Object.keys(triggers[i]);\n    if (keys.includes('logic')) {\n      trigger.logic = triggers[i].logic;\n    }\n    if (keys.includes('name')) {\n      trigger.name = triggers[i].name;\n    }\n    if (keys.includes('timeevent')) {\n      trigger.timeevent = triggers[i].timeevent;\n    }\n    if (keys.includes('condition')) {\n      trigger.condition = triggers[i].condition;\n    }\n\n    const isValid: boolean = await isTriggers(trigger);\n    if (!isValid) {\n      return Promise.reject(\n        new Error(`CheckTriggersValidity: triggers[${i}] not valid`),\n      );\n    }\n  }\n  return Promise.resolve();\n}\nexport const checkViewsValidity = async (views: JsonView[]): Promise<void> => {\n  for (let i = 0; i < views.length; i++) {\n    const view: JsonView = {} as JsonView;\n    const keys: string[] = Object.keys(views[i]);\n    if (keys.includes('value')) {\n      view.value = views[i].value;\n    }\n    if (keys.includes('name')) {\n      view.name = views[i].name;\n    }\n\n    const isValid: boolean = await isView(view);\n    if (!isValid) {\n      return Promise.reject(\n        new Error(`CheckViewsValidity: views[${i}] not valid`),\n      );\n    }\n  }\n  return Promise.resolve();\n}\nexport const getTableColumnNamesTypes = async (db: any, tableName: string): Promise<any> => {\n  let resQuery: any[] = [];\n  const retNames: string[] = [];\n  const retTypes: string[] = [];\n  const query = `PRAGMA table_info('${tableName}');`;\n  try {\n    resQuery = await queryAll(db, query, []);\n    if (resQuery.length > 0) {\n      for (const query of resQuery) {\n        retNames.push(query.name);\n        retTypes.push(query.type);\n      }\n    }\n    return Promise.resolve({ names: retNames, types: retTypes });\n  } catch (err) {\n    return Promise.reject(\n      new Error('GetTableColumnNamesTypes: ' + `${err.message}`),\n    );\n  }\n}\nexport const getValues = async (db: any, query: string, tableName: string): Promise<any[]> => {\n  const values: any[] = [];\n  try {\n    // get table column names and types\n    const tableNamesTypes = await getTableColumnNamesTypes(db, tableName);\n    let rowNames: string[] = [];\n    if (Object.keys(tableNamesTypes).includes('names')) {\n      rowNames = tableNamesTypes.names;\n    } else {\n      return Promise.reject(\n        new Error(`GetValues: Table ${tableName} no names`),\n      );\n    }\n    const retValues = await queryAll(db, query, []);\n    for (const rValue of retValues) {\n      const row: any[] = [];\n      for (const rName of rowNames) {\n        if (Object.keys(rValue).includes(rName)) {\n          row.push(rValue[rName]);\n        } else {\n          row.push(null);\n        }\n      }\n      values.push(row);\n    }\n    return Promise.resolve(values);\n  } catch (err) {\n    return Promise.reject(new Error(`GetValues: ${err.message}`));\n  }\n}\n\n\n"]}